# Beehive user-tunable configuration
# - Changes to this file will directly alter Beehive's behavior. 
# - See CONFIGURATION.md for details.
#
# This file is version-controlled and shared across all users.
# For local overrides (not to be tracked by git), create and write to local.yml instead.

# Coding agent CLIs that Beehive should configure
# Available: claude, gemini, codex, opencode
agents:
  - claude
  - gemini
  - codex
  - opencode

# Retention periods (per memory backend), after which memories older than this threshold
#   will be moved to trash automatically by the cleanup process
# Formats: never, 24h (hours), 30d (days), 2w (weeks), 3m (months), 1y (years)
retention_period_for:
  claude_mem: 30d    # Claude-mem SQLite database (Claude Code only)
  serena: 90d        # Serena project memories (.serena/memories/)
  qdrant: 180d       # Qdrant vector database (used by all enabled CLIs)
  memory_mcp: 365d   # Memory MCP JSONL file (used by all enabled CLIs)

# Cleanup interval (for stale memories)
cleanup:
  min_interval: 24h

# Grace period after stale items are moved to trash
#   before permanent deletion
trash:
  grace_period: 30d

# Timeouts (in seconds) to wait when starting up components (increase for slower machines)
startup_timeout_for:
  mcp_servers: 200       # For HTTP MCP servers started by Beehive
  docker_daemon: 120     # For Docker daemon startup

# Ports for locally-run HTTP servers & backing DB containers
ports_for:
  qdrant_db: 8780
  zen_mcp: 8781
  qdrant_mcp: 8782
  sourcegraph_mcp: 8783
  semgrep_mcp: 8784
  serena_mcp: 8785

# Storage paths and connection details
# Note environment variables take precedence over these values
paths:
  # Base workspace for user projects
  # Override using: $BEEHIVE_PROJECTS_DIR
  #
  # When set, the following paths are automatically derived from it (unless explicitly overridden):
  #   - serena_projects (base for locating Serena memories)
  #   - fs_allowed_dir (Filesystem MCP security boundary)
  #   - clonedir (MCP server clone destination → projects_dir/mcp-servers)
  #   - qdrant_data_dir (Qdrant Docker volume mount → projects_dir/qdrant-data)
  projects_dir: ~/Code

# MCP tool permissions
# When true, agents won't prompt for permission before using MCP tools
mcp:
  auto_approve: no
